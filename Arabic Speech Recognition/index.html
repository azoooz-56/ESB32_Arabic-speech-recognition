<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Voice Controlled Notes App</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/shoelace-css/1.0.0-beta16/shoelace.css">
    <link rel="stylesheet" href="styles.css">

</head>

<style>
.input-single{
    margin: auto;
    width: 50%;
    padding: 10px;
}


.container{
    text-align: center;
}</style>
<body>
    <div class="container">

        <div class="app"> 
            
            <div class="input-single">
                <textarea id="note-textarea" placeholder="Press Start Recognition button to start " rows="6"
                readonly></textarea>
            </div>         
            <button id="start-record-btn" title="Start Recording">Start Recognition</button>
            
            <p id="recording-instructions">Press the <strong>Start Recognition</strong> button and allow access.</p>

        </div>

    </div>

    <script>
        var speak = document.getElementById('start-record-btn');
        var textarea = document.getElementById('note-textarea');
        //Now use web speech api, I used both api to make sure one was available to the browser offering the service
        var SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        var recognition = new SpeechRecognition();
                         
        // select a default language on page load
        recognition.lang = 'ar-SA';
        		
        //handle the action on click		
        speak.addEventListener('click', function () {
            recognition.start();
            textarea.innerHTML = '...speaking';
        })
        //Once the result is ready We only control the item we get in response
        recognition.onresult = function (e) {
            var transcript = e.results[0][0].transcript;
        //Link the result to the text area
            textarea.innerHTML = transcript;
            console.log(transcript);
        }
        console.log("hi");
    </script>

    

</body>
</html>